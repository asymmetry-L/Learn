<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/style.css">
</head>

<body>
    <div class="container">
        <div class="panel">
            <div class="content-login">
                <div class="switch">
                    <span onclick="canLanding()" id="s1" class="active">Landing</span><span>/</span><span
                        onclick="canRegister()" id="s2">Register</span>
                </div>
                <form action="" method="" name="logForm" onsubmit="return isForm(this)">
                    <div id="inputEmail" class="conceal"><input type="text" name="userMail" placeholder="E-mail"></div>
                    <div id="inputUn"><input type="text" name="userName" placeholder="Username"></div>
                    <div id="inputPsw"><input type="password" name="passWord" placeholder="Password"></div>
                    <div id="inputRe" class="conceal"><input type="password" name="rePassWord" placeholder="Repeat">
                    </div>
                    <span>Forget?</span>
                    <br>
                    <div class="button">
                        <input id="button" type="submit" value="登录" onsubmit="isForm()">
                    </div>
                </form>
            </div>
            <div class="image">
                <img src="./image/wallhaven-96yzg8.png" alt="">
            </div>
        </div>
    </div>
</body>
<script>
    function $(arg) {
        var mold = arg[0];
        var tag = "";
        if (mold == ".") {
            tag = document.getElementsByClassName(arg.substring(1));
        } else if (mold == "#") {
            tag = document.getElementById(arg.substring(1));
        } else {
            tag = document.getElementsByTagName(arg);
        }
        return tag;
    };
    function canLanding() {
        $("#s1").className = "active"
        $("#s2").className = ""
        $("#inputEmail").className = "conceal";
        $("#inputRe").className = "conceal";
        $("#button").value = "登录";
    };
    function canRegister() {
        $("#s2").className = "active"
        $("#s1").className = ""
        $("#inputEmail").className = "";
        $("#inputRe").className = "";
        $("#button").value = "注册";
    };
    function isForm(field) {
        var El = document.logForm.userMail;
        var Un = document.logForm.userName;
        var Psw = document.logForm.passWord;
        var Rp = document.logForm.rePassWord;

        var reg = new RegExp("^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$");
        if (El.value == "" && $("#s2").className == "active") {
            alert("邮箱不能为空!");
            El.focus();
            return false;
        } else if (!reg.test(El.value) && $("#s2").className == "active") {
            alert("输入不合法!");
            El.focus();
            return false;
        };
        if (Un.value == "") {
            alert("用户名不能为空!");
            Un.focus();
            // un.focus();
            return false;
        };
        // var p = e;
        if (Psw.value.length < 6 && $("#s2").className == "active") {
            alert("密码较短，安全性低!");
            Psw.focus();
            return false;
        } else if (Psw.value == "") {
            alert("密码不能为空!");
            Psw.focus();
            return false;
        };
        if (Rp.value != Psw.value && $("#s2").className == "active") {
            alert("密码验证失败!");
            Rp.focus();
            return false;
        } else {
            return true;
        }
    };
    // function validate_required(field, alerttxt) {
    //     with (field) {
    //         if (value == null || value == "") {
    //             alert(alerttxt);
    //             return false;
    //         }else {
    //             return true;
    //         }
    //     }
    // }

    // function isForm(thisform) {
    //     with (thisform) {
    //         if (validate_required(userName, "Email must be filled out!") == false) {
    //             userName.focus();
    //             return false;
    //         }
    //         if (condition) {

    //         } else {

    //         }
    //     }
    // }
</script>

</html>